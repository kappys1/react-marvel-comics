{"version":3,"sources":["assets/images/logo.png","modules/catalog/actionsTypes.js","services/MarvelApi.js","services/Adapter.js","modules/catalog/actions.js","components/Header/index.js","components/ItemComic/index.js","components/Carousel/index.js","pages/Search/useSearch.js","components/SearchBar/index.js","components/ItemSearchComic/index.js","pages/Search/useInfiniteScroll.js","pages/Search/index.js","pages/Detail/index.js","pages/Home/index.js","serviceWorker.js","modules/catalog/index.js","index.js","store.js"],"names":["module","exports","__webpack_require__","p","TYPES","makeActionTypes","base","ref","forEach","type","concat","LOAD_ALL_COMICS","FILTER_COMICS","MarvelApI","origOptions","arguments","length","undefined","options","Object","assign","page","count","name","titleStartsWith","timeStamp","Date","getTime","hash","CryptoJS","MD5","process","toString","currentOffset","params","url","fetch","Adapter","data","id","title","description","thumbnail","path","extension","prices","filter","v","dates","creators","items","map","creator","role","loadAllComics","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","getState","wrap","_context","prev","next","callApiAction","then","res","stop","_x","_x2","apply","this","filterResults","_ref2","_callee2","_context2","objectSpread","payload","_x3","_x4","selectComic","comic","dispatcher","_ref3","_callee3","json","_json$data","results","total","offset","_context3","REQUEST","getComics","catch","error","FAILURE","message","sent","abrupt","Promise","resolve","SUCCESS","comics","r","comicAdapter","hasMore","Boolean","_x5","_x6","Header","className","showBackButton","onClickSearch","onClickBack","react_default","createElement","onClick","src","logo","alt","ItemComic","_ref$className","price","Carousel","initSlide","onSlideChange","onClickItemComic","_useState","useState","_useState2","slicedToArray","swiper","setSwiper","_useState3","_useState4","currentSlide","setCurrentSlide","_useState5","_useState6","enterAnimation","setEnterAnimation","carouselItems","val","i","key","components_ItemComic","handleClickItemComic","useEffect","console","log","setTimeout","on","handleSlideChange","activeIndex","current","slideTo","settings","grabCursor","slidesPerView","centeredSlides","spaceBetween","initialSlide","shouldSwiperUpdate","lib_default","containerClass","getSwiper","useSearchModal","isShowing","setIsShowing","toggle","SearchBar","value","onChangeInput","setName","onSubmit","e","preventDefault","autoFocus","onChange","target","placeholder","ItemSearchComic","useInfiniteScroll","callback","isFetching","setIsFetching","setRef","handleScroll","offsetHeight","scrollTop","scrollHeight","addEventListener","removeEventListener","mapDispathToProps","connect","state","comicsFilter","catalog","status","hide","onClickItem","useDispatch","setPage","listRef","useRef","_useInfiniteScroll","_useInfiniteScroll2","setListRef","isLoading","isSearching","isNewSearch","handleChangeInput","ReactDOM","createPortal","Fragment","aria-modal","aria-hidden","tabIndex","data-dismiss","aria-label","components_SearchBar","components_ItemSearchComic","document","body","comicDetail","contentBody","slide","setSlide","_useSearch","useSearch","handleSlidePage","actualSlide","isInDetail","components_Header","pages_Detail","components_Carousel","src_pages_Search","window","location","hostname","match","INITIAL_STATE","original","action","CANCEL","store","appReducer","combineReducers","createStore","applyMiddleware","thunk","configureStore","render","es","pages_Home","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4f3021dd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee0b56fe.png\";","const TYPES = ['REQUEST', 'SUCCESS', 'FAILURE', 'CANCEL', 'RESET'];\n\nconst makeActionTypes = base => {\n  const ref = {};\n\n  TYPES.forEach(type => {\n    ref[type] = `${base}_${type}`;\n  });\n\n  return ref;\n};\n\nexport const LOAD_ALL_COMICS = makeActionTypes('LOAD_ALL_COMICS');\nexport const FILTER_COMICS = makeActionTypes('FILTER_COMICS');\nexport const SELECT_COMIC = 'SELECT_COMIC';\nexport const CHANGE_FILTER = 'CHANGE_FILTER';\n","import CryptoJS from 'crypto-js';\n\nclass MarvelApI {\n  static getComics(origOptions = {}) {\n    const baseUrl = 'https://gateway.marvel.com:443';\n    const defaultOptions = { page: 1, count: 10, name: '', titleStartsWith: '' };\n    const options = Object.assign(defaultOptions, origOptions);\n\n    const URI = '/v1/public/comics';\n    const timeStamp = new Date().getTime();\n    const hash = CryptoJS.MD5(\n      timeStamp + process.env.REACT_APP_API_PRIVATE_KEY + process.env.REACT_APP_API_PUBLIC_KEY\n    ).toString();\n\n    const currentOffset = options.page - 1;\n    let params = `?apikey=${process.env.REACT_APP_API_PUBLIC_KEY}&ts=${timeStamp}&hash=${hash}&limit=${options.count}&offset=${currentOffset}`;\n\n    if (options.name) {\n      params = params.concat(`&name=${options.name}`);\n    }\n    if (options.titleStartsWith) {\n      params = params.concat(`&titleStartsWith=${options.titleStartsWith}`);\n    }\n    const url = `${baseUrl}${URI}${params}`;\n\n    return fetch(url);\n  }\n}\n\nexport default MarvelApI;\n","class Adapter {\n  static comicAdapter(data) {\n    return {\n      id: data.id,\n      title: data.title,\n      description: data.description,\n      thumbnail: `${data.thumbnail.path}/portrait_uncanny.${data.thumbnail.extension}`,\n      prices: data.prices.filter(v => v.type === 'printPrice')[0],\n      dates: data.dates.filter(v => v.type === 'onsaleDate')[0],\n      creators: data.creators.items.map(creator => {\n        return {\n          name: creator.name,\n          role: creator.role\n        };\n      })\n    };\n  }\n}\n\nexport default Adapter;\n","import { LOAD_ALL_COMICS, FILTER_COMICS, SELECT_COMIC } from './actionsTypes';\nimport MarvelApI from '../../services/MarvelApi';\nimport Adapter from '../../services/Adapter';\n\nexport const loadAllComics = page => async (dispatch, getState) => {\n  callApiAction({ page: page }, LOAD_ALL_COMICS)(dispatch, getState).then(res => dispatch(res));\n};\n\nexport const filterResults = (page, name) => async (dispatch, getState) => {\n  callApiAction({ page: page, titleStartsWith: name }, FILTER_COMICS)(dispatch, getState).then(\n    res => {\n      dispatch({\n        ...res,\n        payload: name\n      });\n    }\n  );\n};\n\nexport const selectComic = comic => ({\n  type: SELECT_COMIC,\n  payload: comic\n});\n\nconst callApiAction = (options, dispatcher) => async (dispatch, getState) => {\n  dispatch({ type: dispatcher.REQUEST, payload: options.titleStartsWith });\n  const json = await MarvelApI.getComics(options)\n    .then(res => res.json())\n    .catch(error => {\n      dispatch({ type: dispatcher.FAILURE, message: error.message });\n    });\n  const { results, total, offset, count } = json.data;\n  return Promise.resolve({\n    type: dispatcher.SUCCESS,\n    comics: results.map(r => Adapter.comicAdapter(r)),\n    total: total,\n    hasMore: Boolean(total > count && offset < total)\n  });\n};\n","import React from 'react';\nimport './index.scss';\nimport logo from '../../assets/images/logo.png';\n\nfunction Header({ className, showBackButton, onClickSearch, onClickBack }) {\n  return (\n    <div className={`Header ${className}`}>\n      <div className=\"col col__left\">\n        {showBackButton ? <i className=\"icon-back\" onClick={onClickBack}></i> : ''}\n      </div>\n      <div className=\"col col__center\">\n        <img src={logo} alt=\"Logo\" />\n      </div>\n      <div className=\"col col__right\">\n        <i className=\"icon-search\" onClick={onClickSearch}></i>\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport './index.scss';\n\nfunction ItemComic({ comic, onClick, className = '' }) {\n  const handleClick = () => (onClick ? onClick(comic) : null);\n  return (\n    <div className={`ItemComic ${className}`} onClick={handleClick}>\n      <img className=\"ItemComic__image\" src={comic.thumbnail} alt=\"ItemComic\" />\n      <h1 className=\"white\">{comic.title}</h1>\n      <div className=\"text-body white\">${comic.prices.price}</div>\n    </div>\n  );\n}\n\nexport default ItemComic;\n","import React, { useState, useEffect } from 'react';\nimport 'swiper/dist/css/swiper.min.css';\nimport 'react-id-swiper/lib/styles/scss/swiper.scss';\n\nimport Swiper from 'react-id-swiper';\nimport ItemComic from '../../components/ItemComic';\nimport './index.scss';\n\nfunction Carousel({ items, initSlide, onSlideChange, onClickItemComic }) {\n  const speedTransition = 700;\n  const [swiper, setSwiper] = useState();\n  const [currentSlide, setCurrentSlide] = useState(initSlide);\n  const [enterAnimation, setEnterAnimation] = useState('');\n  const carouselItems = items.items.map((val, i) => {\n    return (\n      <div className=\"carousel-slide\" key={i}>\n        <ItemComic onClick={() => handleClickItemComic(val, i)} comic={val}></ItemComic>\n      </div>\n    );\n  });\n\n  useEffect(() => {\n    if (onSlideChange) {\n      onSlideChange(currentSlide);\n    }\n  }, [currentSlide]);\n\n  useEffect(() => {\n    console.log(swiper);\n    if (swiper) {\n      setTimeout(() => setEnterAnimation('animate'), 100);\n      swiper.on('slideChange', handleSlideChange);\n    }\n  }, [swiper]);\n\n  const handleClickItemComic = (comic, i) => {\n    const currentSlide = swiper.activeIndex;\n    const current = items.items[currentSlide];\n    if (comic.id === current.id) {\n      if (onClickItemComic) {\n        onClickItemComic(comic);\n      }\n    } else {\n      swiper.slideTo(i);\n      setTimeout(() => onClickItemComic(comic), speedTransition);\n    }\n    setCurrentSlide(i);\n  };\n\n  const handleSlideChange = () => {\n    const next = swiper.activeIndex;\n    setCurrentSlide(next);\n  };\n\n  const settings = {\n    grabCursor: false,\n    slidesPerView: 'auto',\n    centeredSlides: true,\n    spaceBetween: 50,\n    initialSlide: currentSlide,\n    shouldSwiperUpdate: true\n  };\n\n  return (\n    <Swiper\n      containerClass={`swiper-container ${enterAnimation}`}\n      {...settings}\n      getSwiper={setSwiper}\n    >\n      {carouselItems}\n    </Swiper>\n  );\n}\n\nexport default Carousel;\n","import { useState } from 'react';\n\nconst useSearchModal = () => {\n  const [isShowing, setIsShowing] = useState(false);\n\n  function toggle() {\n    setIsShowing(!isShowing);\n  }\n\n  return {\n    isShowing,\n    toggle\n  };\n};\n\nexport default useSearchModal;\n","import React, { useState } from 'react';\nimport './index.scss';\nimport logo from '../../assets/images/logo.png';\n\nfunction SearchBar({ value, className, onClickSearch, onChangeInput }) {\n  const [name, setName] = useState(value);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (onClickSearch) {\n      onClickSearch(name);\n    }\n  };\n\n  const handleChangeInput = e => {\n    setName(e.target.value);\n    if (onChangeInput) {\n      onChangeInput(e.target.value);\n    }\n    e.preventDefault();\n  };\n\n  return (\n    <div className={`SearchBar`}>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <input\n            autoFocus\n            type=\"text\"\n            value={name}\n            onChange={handleChangeInput}\n            placeholder=\"Search ...\"\n          />\n        </label>\n      </form>\n    </div>\n  );\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport './index.scss';\n\nfunction ItemSearchComic({ comic, onClick }) {\n  const handleClick = () => (onClick ? onClick(comic) : null);\n  return (\n    <div className=\"ItemSearchComic\" onClick={handleClick}>\n      <img className=\"ItemSearchComic__image\" src={comic.thumbnail} alt=\"ItemComic\" />\n      <div className=\"ItemSearchComic__description\">\n        <h1 className=\"white\">{comic.title}</h1>\n        <div className=\"body white\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport default ItemSearchComic;\n","import { useState, useEffect } from 'react';\n\nconst useInfiniteScroll = callback => {\n  const [isFetching, setIsFetching] = useState(false);\n  const [ref, setRef] = useState(false);\n\n  useEffect(() => {\n    if (ref) {\n      const current = ref.current;\n      current.addEventListener('scroll', handleScroll);\n      return () => current.removeEventListener('scroll', handleScroll);\n    }\n  }, [ref]);\n\n  useEffect(() => {\n    if (!isFetching) return;\n    callback();\n  }, [isFetching]);\n\n  function handleScroll() {\n    if (ref.current.offsetHeight + ref.current.scrollTop !== ref.current.scrollHeight || isFetching)\n      return;\n    setIsFetching(true);\n  }\n\n  return [isFetching, setIsFetching, setRef];\n};\n\nexport default useInfiniteScroll;\n","import React, { useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport SearchBar from '../../components/SearchBar';\nimport './index.scss';\nimport { connect, useDispatch } from 'react-redux';\nimport { filterResults } from '../../modules/catalog/actions';\nimport ItemSearchComic from '../../components/ItemSearchComic';\nimport useInfiniteScroll from './useInfiniteScroll';\n\nconst Search = ({ isShowing, hide, onClickItem, comicsFilter, status }) => {\n  const dispatch = useDispatch();\n  const [page, setPage] = useState(1);\n  const [name, setName] = useState(comicsFilter.filter);\n  const listRef = useRef(null);\n  const [isFetching, setIsFetching, setListRef] = useInfiniteScroll(handleScroll);\n  const isLoading = status.isSearching && status.isNewSearch;\n\n  useEffect(() => {\n    if (listRef.current) {\n      setListRef(listRef);\n    }\n  }, [isShowing]);\n\n  useEffect(() => {\n    console.log('finish');\n    setIsFetching(false);\n  }, [comicsFilter.items]);\n\n  const handleChangeInput = name => {\n    if (name.length >= 3) {\n      setPage(1);\n      setName(name);\n      dispatch(filterResults(page, name));\n    }\n  };\n\n  function handleScroll() {\n    if (comicsFilter.hasMore) {\n      setPage(page + 1);\n      console.log(page);\n      dispatch(filterResults(page + 1, name));\n    }\n  }\n\n  function handleClickItem(e) {\n    if (onClickItem) {\n      onClickItem(e);\n    }\n  }\n\n  const comicsSearchItems = () => {\n    if (comicsFilter.items.length) {\n      return comicsFilter.items.map((val, i) => (\n        <ItemSearchComic onClick={() => handleClickItem(val)} key={i} comic={val}></ItemSearchComic>\n      ));\n    } else {\n      return <div className=\"no-content\">No results</div>;\n    }\n  };\n\n  return isShowing\n    ? ReactDOM.createPortal(\n        <React.Fragment>\n          <div className=\"modal-overlay\" />\n          <div className=\"modal-wrapper\" aria-modal aria-hidden tabIndex={-1} role=\"dialog\">\n            <div className=\"modal\">\n              <div className=\"modal-header\">\n                <button\n                  type=\"button\"\n                  className=\"modal-close-button\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                  onClick={hide}\n                >\n                  <i aria-hidden=\"true\" className=\"icon-close\"></i>\n                </button>\n              </div>\n              <div className=\"modal-body\">\n                <SearchBar\n                  value={name}\n                  onChangeInput={handleChangeInput}\n                  onClickSearch={handleChangeInput}\n                ></SearchBar>\n                <div className=\"container-search\" ref={listRef}>\n                  {!isLoading ? (\n                    comicsSearchItems()\n                  ) : (\n                    <div className=\"container-search content-loading\">\n                      <i className=\"icon-loading\"></i>\n                    </div>\n                  )}\n                  {isFetching ? (\n                    <div>\n                      <i className=\"icon-loading\"></i>\n                    </div>\n                  ) : (\n                    ''\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </React.Fragment>,\n        document.body\n      )\n    : null;\n};\n\nconst mapStateToProps = state => ({\n  comicsFilter: state.catalog.comicsFilter,\n  status: state.catalog.status\n});\n\nconst mapDispathToProps = {\n  filterResults\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispathToProps\n)(Search);\n","import React, { useState, useEffect } from 'react';\nimport { selectComic } from '../../modules/catalog/actions';\nimport './index.scss';\nimport { connect, useDispatch } from 'react-redux';\nimport ItemComic from '../../components/ItemComic';\n\nfunction Detail({ comic }) {\n  const [enterAnimation, setEnterAnimation] = useState('');\n\n  useEffect(() => {\n    setTimeout(() => setEnterAnimation('animate'), 100);\n  }, []);\n\n  const contentBody = (\n    <>\n      <div className=\"label white\">Description</div>\n      <div className=\"text-body white\">{comic.description}</div>\n      <div className=\"content-creators\">\n        {comic.creators.map((val, i) => (\n          <div className=\"creator\" key={i}>\n            <div className=\"label white creator__title\">{val.role}</div>\n            <div className=\"text-body white creator__name\">{val.name}</div>\n          </div>\n        ))}\n      </div>\n    </>\n  );\n  return comic ? (\n    <div className={`Detail-page ${enterAnimation}`}>\n      <div className=\"content-left\">\n        <ItemComic comic={comic}></ItemComic>\n      </div>\n      <div className=\"content-right\">\n        <h1 className=\"white\">{comic.title}</h1>\n        <div className=\"label white\">$ {comic.prices.price}</div>\n        <div className=\"content-body\">{contentBody}</div>\n      </div>\n      <div className=\"content-body\">{contentBody}</div>\n    </div>\n  ) : (\n    ''\n  );\n}\n\nconst mapStateToProps = state => ({\n  comic: state.catalog.comicDetail\n});\n\nexport default connect(mapStateToProps)(Detail);\n","import React, { useState } from 'react';\nimport { loadAllComics, selectComic } from '../../modules/catalog/actions';\nimport './index.scss';\nimport { connect, useDispatch } from 'react-redux';\nimport Header from '../../components/Header';\nimport Carousel from '../../components/Carousel';\nimport useSearch from '../../pages/Search/useSearch';\nimport Search from '../../pages/Search';\nimport Detail from '../../pages/Detail';\n\nfunction Home({ comics, status }) {\n  const dispatch = useDispatch();\n\n  const [page, setPage] = useState(1);\n  const [slide, setSlide] = useState(0);\n  const { isShowing, toggle } = useSearch();\n\n  const loadPage = () => {\n    dispatch(loadAllComics(page));\n  };\n\n  const handleSlidePage = actualSlide => {\n    const thresholdUpdate = 2;\n    if (actualSlide + thresholdUpdate >= comics.items.length && !status.isLoading) {\n      setPage(page + 1);\n      loadPage();\n    }\n    setSlide(actualSlide);\n  };\n\n  const handleClickSearch = () => {\n    toggle();\n  };\n\n  const handleClickItemSearch = comic => {\n    toggle();\n    dispatch(selectComic(comic));\n  };\n\n  const handleClickItemCarousel = comic => {\n    dispatch(selectComic(comic));\n  };\n\n  const handleClickBack = () => {\n    dispatch(selectComic({}));\n  };\n\n  return (\n    <div className={`page ${status.isInDetail ? 'page__detail' : 'page__home'}`}>\n      <Header\n        className=\"Header--mini\"\n        showBackButton={status.isInDetail}\n        onClickBack={handleClickBack}\n        onClickSearch={handleClickSearch}\n      ></Header>\n      {!status.isInDetail ? (\n        <Carousel\n          initSlide={slide}\n          items={comics}\n          onClickItemComic={handleClickItemCarousel}\n          onSlideChange={handleSlidePage}\n        ></Carousel>\n      ) : (\n        <Detail items={comics} onSlideChange={handleSlidePage}></Detail>\n      )}\n      <Search onClickItem={handleClickItemSearch} isShowing={isShowing} hide={toggle} />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  comics: state.catalog.comics,\n  status: state.catalog.status\n});\n\nconst mapDispathToProps = {\n  loadAllComics,\n  selectComic\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispathToProps\n)(Home);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { LOAD_ALL_COMICS, FILTER_COMICS, SELECT_COMIC } from './actionsTypes';\n\nconst INITIAL_STATE = {\n  status: {\n    isLoading: false,\n    isSearching: false,\n    isInDetail: false,\n    isNewSearch: false\n  },\n  comicDetail: {},\n  comics: {\n    hasMore: true,\n    items: [],\n    original: [],\n    count: 12,\n    total: 0\n  },\n  comicsFilter: {\n    hasMore: true,\n    items: [],\n    original: [],\n    count: 12,\n    total: 0,\n    filter: ''\n  }\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case LOAD_ALL_COMICS.REQUEST:\n      return {\n        ...state,\n        status: {\n          ...state.status,\n          isLoading: true\n        },\n        comics: {\n          ...state.comics\n        }\n      };\n    case LOAD_ALL_COMICS.SUCCESS:\n      return {\n        ...state,\n        status: {\n          ...state.status,\n          isLoading: false\n        },\n        comics: {\n          ...state.comics,\n          total: action.total,\n          hasMore: action.hasMore,\n          items: state.comics.items.concat(action.comics),\n          original: state.comics.items\n        }\n      };\n    case LOAD_ALL_COMICS.FAILURE:\n      return {\n        ...state,\n        status: {\n          ...state.status,\n          isLoading: false\n        },\n        comics: {\n          ...state.comics,\n          items: action.comics\n        }\n      };\n    case FILTER_COMICS.REQUEST:\n      return {\n        ...state,\n        status: {\n          ...state.status,\n          isLoading: false,\n          isSearching: true,\n          isNewSearch: state.comicsFilter.filter !== action.payload\n        },\n        comicsFilter: {\n          ...state.comicsFilter,\n          filter: action.payload\n        }\n      };\n    case FILTER_COMICS.SUCCESS:\n      return {\n        ...state,\n        status: {\n          ...state.status,\n          isSearching: false\n        },\n        comicsFilter: {\n          ...state.comicsFilter,\n          total: action.total,\n          items: !state.status.isNewSearch\n            ? state.comicsFilter.items.concat(action.comics)\n            : action.comics,\n          hasMore: action.hasMore,\n          filter: action.payload,\n          original: state.comicsFilter.items\n        }\n      };\n    case FILTER_COMICS.CANCEL:\n      return {\n        ...state,\n        status: {\n          ...state.status,\n          isSearching: false\n        },\n        comicsFilter: {\n          ...state.comicsFilter,\n          filter: '',\n          items: state.comicsFilter.original\n        }\n      };\n    case SELECT_COMIC:\n      return {\n        ...state,\n        comicDetail: action.payload,\n        status: {\n          ...state.status,\n          isInDetail: action.payload.id\n        }\n      };\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport Home from './pages/Home';\nimport * as serviceWorker from './serviceWorker';\nimport configureStore from './store';\nimport { Provider } from 'react-redux';\nconst store = configureStore();\n\nwindow.store = store;\n\nReactDOM.render(\n  <Provider store={store}>\n    <Home />\n  </Provider>,\n  document.getElementById('root')\n);\n// If you want your Home to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport catalog from './modules/catalog';\nexport default function configureStore() {\n  const appReducer = combineReducers({\n    catalog\n  });\n  return createStore(appReducer, applyMiddleware(thunk));\n}\n"],"sourceRoot":""}