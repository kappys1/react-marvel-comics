(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/logo.ee0b56fe.png"},37:function(e,t,a){e.exports=a(75)},42:function(e,t,a){},5:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return r});var c=["REQUEST","SUCCESS","FAILURE","CANCEL","RESET"],n=function(e){var t={};return c.forEach(function(a){t[a]="".concat(e,"_").concat(a)}),t},i=n("LOAD_ALL_COMICS"),o=n("FILTER_COMICS"),r="SELECT_COMIC"},6:function(e,t,a){"use strict";var c=a(2),n=a(12),i=a.n(n),o=a(21),r=a(5),s=a(18),l=a(20),u=a(31),m=a.n(u),d=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"getComics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({page:1,count:10,name:"",titleStartsWith:""},e),a=(new Date).getTime(),c=m.a.MD5(a+"c5ba2dfb45dfc5333a9aea2df50d38c24a6f60a4faf8af7e43d0c4c73a956d278bad1431").toString(),n=t.page-1,i="?apikey=".concat("faf8af7e43d0c4c73a956d278bad1431","&ts=").concat(a,"&hash=").concat(c,"&limit=").concat(t.count,"&offset=").concat(n);t.name&&(i=i.concat("&name=".concat(t.name))),t.titleStartsWith&&(i=i.concat("&titleStartsWith=".concat(t.titleStartsWith))),t.orderBy&&(i=i.concat("&orderBy=".concat(t.orderBy)));var o="".concat("https://gateway.marvel.com:443").concat("/v1/public/comics").concat(i);return fetch(o)}}]),e}(),f=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"comicAdapter",value:function(e){return{id:e.id,title:e.title,description:e.description,pages:e.pageCount,thumbnail:"".concat(e.thumbnail.path.replace("http","https"),"/portrait_uncanny.").concat(e.thumbnail.extension),thumbnail_small:"".concat(e.thumbnail.path.replace("http","https"),"/portrait_medium.").concat(e.thumbnail.extension),price:e.prices.filter(function(e){return"printPrice"===e.type})[0].price||"??",dates:e.dates.filter(function(e){return"onsaleDate"===e.type})[0],creators:e.creators.items.map(function(e){return{name:e.name,role:e.role}})}}}]),e}();a.d(t,"b",function(){return b}),a.d(t,"a",function(){return p}),a.d(t,"c",function(){return h});var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(o.a)(i.a.mark(function a(c,n){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:g({page:e,orderBy:t},r.b)(c,n).then(function(e){return c(e)});case 1:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},p=function(e,t){return function(){var a=Object(o.a)(i.a.mark(function a(n,o){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:g({page:e,titleStartsWith:t},r.a)(n,o).then(function(e){n(Object(c.a)({},e,{payload:t}))});case 1:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},h=function(e){return{type:r.c,payload:e}},g=function(e,t){return function(){var a=Object(o.a)(i.a.mark(function a(c,n){var o,r,s,l,u,m;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:t.REQUEST,payload:e.titleStartsWith}),a.next=3,d.getComics(e).then(function(e){return e.json()}).catch(function(e){c({type:t.FAILURE,message:e.message})});case 3:return o=a.sent,r=o.data,s=r.results,l=r.total,u=r.offset,m=r.count,a.abrupt("return",Promise.resolve({type:t.SUCCESS,comics:s.map(function(e){return f.comicAdapter(e)}),total:l,page:u+1,orderBy:e.orderBy||"",hasMore:Boolean(l>m&&u<l)}));case 6:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()}},67:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),i=a(17),o=a.n(i),r=(a(42),a(10)),s=a(6),l=(a(67),a(8)),u=(a(72),a(33)),m=a.n(u);var d=function(e){var t=e.className,a=e.iconLeft,c=e.IconRight,i=e.onClickLeftIcon,o=e.onClickRightIcon;return n.a.createElement("div",{className:"Header ".concat(t)},n.a.createElement("div",{className:"col col__left"},n.a.createElement("i",{className:a,onClick:i})),n.a.createElement("div",{className:"col col__center"},n.a.createElement("img",{src:m.a,alt:"Logo"})),n.a.createElement("div",{className:"col col__right"},n.a.createElement("i",{className:c,onClick:o})))};a(73);var f={loadAllComics:s.b},b=Object(l.b)(function(e){return{comics:e.catalog.comics,status:e.catalog.status}},f)(function(e){e.comics;var t=e.status,a=Object(l.c)(),i=Object(c.useState)({name:"",type:""}),o=Object(r.a)(i,2),u=o[0],m=o[1],d=[{name:"Titulo",value:"title"},{name:"Modificacion",value:"modified"},{name:"Numero Issue",value:"issueNumber"},{name:"Fecha de venta",value:"onsaleDate"}].map(function(e,t){var c="";return e.value===u.name&&(c="asc"===u.type?n.a.createElement("i",{className:"icon-cheveron-down"}):n.a.createElement("i",{className:"icon-cheveron-up"})),n.a.createElement("div",{className:"text-body",key:t,onClick:function(){return function(e){var t={};t=u.name!==e?{name:e,type:"asc"}:u.name===e&&"asc"===u.type?{name:e,type:"desc"}:{name:"",type:""},m(t);var c="".concat("desc"===t.type?"-":"").concat(t.name);a(Object(s.b)(1,c))}(e.value)}},e.name,c)});return n.a.createElement("div",{className:"sidebar-content"},n.a.createElement("h2",null,"Order"),d,n.a.createElement("div",{className:"content-loading ".concat(t.isLoading?"show":"")},n.a.createElement("i",{className:"icon-loading"})))}),p=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1];return{isShowing:a,toggle:function(){n(!a)}}},h=a(34),g=Object(c.lazy)(function(){return a.e(4).then(a.bind(null,91))}),v=Object(c.lazy)(function(){return a.e(6).then(a.bind(null,89))}),O=Object(c.lazy)(function(){return Promise.all([a.e(3),a.e(5)]).then(a.bind(null,90))});var y={loadAllComics:s.b,selectComic:s.c},j=Object(l.b)(function(e){return{comics:e.catalog.comics,status:e.catalog.status}},y)(function(e){var t=e.comics,a=e.status,i=Object(l.c)(),o=Object(c.useState)(0),u=Object(r.a)(o,2),m=u[0],f=u[1],y=Object(c.useState)(!1),j=Object(r.a)(y,2),E=j[0],S=j[1],C=p(),w=C.isShowing,N=C.toggle,I=0===t.items.length&&a.isLoading,k=function(e){e+4>=t.items.length&&!a.isLoading&&i(Object(s.b)(t.page+1,t.orderBy)),f(e)};return n.a.createElement(h.a,{sidebar:n.a.createElement(b,null),open:E,onSetOpen:S,sidebarClassName:"sidebar",overlayClassName:"overlay",styles:{sidebar:{background:"white"}}},n.a.createElement("div",{className:"page ".concat(a.isInDetail?"page__detail":"page__home")},n.a.createElement(d,{className:"Header ".concat(I?"Header--loading":"Header--mini"),iconLeft:"".concat(a.isInDetail?"icon-back":"icon-menu"),IconRight:"icon-search",onClickLeftIcon:function(){a.isInDetail?i(Object(s.c)({})):S(!0)},onClickRightIcon:function(){N()}}),n.a.createElement(c.Suspense,{fallback:n.a.createElement(n.a.Fragment,null)},a.isInDetail?n.a.createElement(v,{items:t,onSlideChange:k}):n.a.createElement(O,{initSlide:m,items:t,onClickItemComic:function(e){i(Object(s.c)(e))},onSlideChange:k}),n.a.createElement(g,{onClickItem:function(e){N(),i(Object(s.c)(e))},isShowing:w,hide:N})),n.a.createElement("div",{className:"text-body white copyright ".concat(a.isInDetail?"detail":"")},"Data provided by Marvel \xa9 ",(new Date).getFullYear())))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=a(15),S=a(36),C=a(2),w=a(5),N={status:{isLoading:!1,isSearching:!1,isInDetail:!1,isNewSearch:!1},comicDetail:{id:-1,title:"",description:"",thumbnail:"",price:"",dates:{},creators:[]},comics:{hasMore:!0,page:1,orderBy:"",items:[],original:[],count:12,total:0},comicsFilter:{hasMore:!0,items:[],original:[],count:12,total:0,filter:""}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.b.REQUEST:return Object(C.a)({},e,{status:Object(C.a)({},e.status,{isLoading:!0}),comics:Object(C.a)({},e.comics)});case w.b.SUCCESS:return Object(C.a)({},e,{status:Object(C.a)({},e.status,{isLoading:!1}),comics:Object(C.a)({},e.comics,{total:t.total,hasMore:t.hasMore,page:t.page,orderBy:t.orderBy,items:t.orderBy!==e.comics.orderBy?t.comics:e.comics.items.concat(t.comics),original:e.comics.items})});case w.b.FAILURE:return Object(C.a)({},e,{status:Object(C.a)({},e.status,{isLoading:!1}),comics:Object(C.a)({},e.comics,{items:t.comics})});case w.a.REQUEST:return Object(C.a)({},e,{status:Object(C.a)({},e.status,{isLoading:!1,isSearching:!0,isNewSearch:e.comicsFilter.filter!==t.payload}),comicsFilter:Object(C.a)({},e.comicsFilter,{filter:t.payload})});case w.a.SUCCESS:return Object(C.a)({},e,{status:Object(C.a)({},e.status,{isSearching:!1}),comicsFilter:Object(C.a)({},e.comicsFilter,{total:t.total,items:e.status.isNewSearch?t.comics:e.comicsFilter.items.concat(t.comics),hasMore:t.hasMore,filter:t.payload,original:e.comicsFilter.items})});case w.a.CANCEL:return Object(C.a)({},e,{status:Object(C.a)({},e.status,{isSearching:!1}),comicsFilter:Object(C.a)({},e.comicsFilter,{filter:"",items:e.comicsFilter.original})});case w.c:return Object(C.a)({},e,{comicDetail:t.payload,status:Object(C.a)({},e.status,{isInDetail:t.payload.id})});default:return e}};var k=function(){var e=Object(E.c)({catalog:I});return Object(E.d)(e,Object(E.a)(S.a))}();window.store=k,o.a.render(n.a.createElement(l.a,{store:k},n.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.6bf4ba2e.chunk.js.map