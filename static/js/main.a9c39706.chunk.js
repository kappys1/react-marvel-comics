(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){"use strict";var c=a(2),n=a(11),i=a.n(n),o=a(19),r=a(4),s=a(6),u=a(9),l=a(30),m=a.n(l),f=function(){function t(){Object(s.a)(this,t)}return Object(u.a)(t,null,[{key:"getComics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({page:1,count:10,name:"",titleStartsWith:""},t),a=(new Date).getTime(),c=m.a.MD5(a+"c5ba2dfb45dfc5333a9aea2df50d38c24a6f60a4faf8af7e43d0c4c73a956d278bad1431").toString(),n=e.page-1,i="?apikey=".concat("faf8af7e43d0c4c73a956d278bad1431","&ts=").concat(a,"&hash=").concat(c,"&limit=").concat(e.count,"&offset=").concat(n);e.name&&(i=i.concat("&name=".concat(e.name))),e.titleStartsWith&&(i=i.concat("&titleStartsWith=".concat(e.titleStartsWith)));var o="".concat("https://gateway.marvel.com:443").concat("/v1/public/comics").concat(i);return fetch(o)}}]),t}(),d=function(){function t(){Object(s.a)(this,t)}return Object(u.a)(t,null,[{key:"comicAdapter",value:function(t){return{id:t.id,title:t.title,description:t.description,thumbnail:"".concat(t.thumbnail.path.replace("http","https"),"/portrait_uncanny.").concat(t.thumbnail.extension),price:t.prices.filter(function(t){return"printPrice"===t.type})[0].price||"??",dates:t.dates.filter(function(t){return"onsaleDate"===t.type})[0],creators:t.creators.items.map(function(t){return{name:t.name,role:t.role}})}}}]),t}();a.d(e,"b",function(){return b}),a.d(e,"a",function(){return h}),a.d(e,"c",function(){return p});var b=function(t){return function(){var e=Object(o.a)(i.a.mark(function e(a,c){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:g({page:t},r.b)(a,c).then(function(t){return a(t)});case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},h=function(t,e){return function(){var a=Object(o.a)(i.a.mark(function a(n,o){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:g({page:t,titleStartsWith:e},r.a)(n,o).then(function(t){n(Object(c.a)({},t,{payload:e}))});case 1:case"end":return a.stop()}},a)}));return function(t,e){return a.apply(this,arguments)}}()},p=function(t){return{type:r.c,payload:t}},g=function(t,e){return function(){var a=Object(o.a)(i.a.mark(function a(c,n){var o,r,s,u,l,m;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:e.REQUEST,payload:t.titleStartsWith}),a.next=3,f.getComics(t).then(function(t){return t.json()}).catch(function(t){c({type:e.FAILURE,message:t.message})});case 3:return o=a.sent,r=o.data,s=r.results,u=r.total,l=r.offset,m=r.count,a.abrupt("return",Promise.resolve({type:e.SUCCESS,comics:s.map(function(t){return d.comicAdapter(t)}),total:u,hasMore:Boolean(u>m&&l<u)}));case 6:case"end":return a.stop()}},a)}));return function(t,e){return a.apply(this,arguments)}}()}},29:function(t,e,a){"use strict";var c=a(0),n=a.n(c);a(75);function i(t){var e=t.comic,a=t.onClick,c=t.className;return n.a.createElement("div",{className:"ItemComic ".concat(c),onClick:function(){return a?a(e):null}},n.a.createElement("img",{className:"ItemComic__image",src:e.thumbnail,alt:"ItemComic"}),n.a.createElement("h1",{className:"white"},e.title),n.a.createElement("div",{className:"text-body white"},"$",e.price))}i.defaultProps={comic:{},className:""},e.a=i},32:function(t,e,a){t.exports=a.p+"static/media/logo.ee0b56fe.png"},35:function(t,e,a){t.exports=a(78)},4:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return o}),a.d(e,"c",function(){return r});var c=["REQUEST","SUCCESS","FAILURE","CANCEL","RESET"],n=function(t){var e={};return c.forEach(function(a){e[a]="".concat(t,"_").concat(a)}),e},i=n("LOAD_ALL_COMICS"),o=n("FILTER_COMICS"),r="SELECT_COMIC"},40:function(t,e,a){},65:function(t,e,a){},70:function(t,e,a){},75:function(t,e,a){},76:function(t,e,a){},78:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),i=a(17),o=a.n(i),r=(a(40),a(5)),s=a(10),u=(a(65),a(16)),l=(a(70),a(32)),m=a.n(l);var f=function(t){var e=t.className,a=t.showBackButton,c=t.onClickSearch,i=t.onClickBack;return n.a.createElement("div",{className:"Header ".concat(e)},n.a.createElement("div",{className:"col col__left"},a?n.a.createElement("i",{className:"icon-back",onClick:i}):""),n.a.createElement("div",{className:"col col__center"},n.a.createElement("img",{src:m.a,alt:"Logo"})),n.a.createElement("div",{className:"col col__right"},n.a.createElement("i",{className:"icon-search",onClick:c})))},d=(a(71),a(72),a(33)),b=a.n(d),h=a(29);a(76);function p(t){var e=t.items,a=t.initSlide,i=t.onSlideChange,o=t.onClickItemComic,s=Object(c.useState)(),u=Object(r.a)(s,2),l=u[0],m=u[1],f=Object(c.useState)(a),d=Object(r.a)(f,2),p=d[0],g=d[1],O=Object(c.useState)(""),j=Object(r.a)(O,2),S=j[0],v=j[1],E=e.items.map(function(t,e){return n.a.createElement("div",{className:"carousel-slide",key:e},n.a.createElement(h.a,{onClick:function(){return C(t,e)},comic:t}))});Object(c.useEffect)(function(){i&&i(p)},[p,i]),Object(c.useEffect)(function(){l&&(setTimeout(function(){return v("animate")},400),l.on("slideChange",function(){var t=l.activeIndex;g(t)}))},[l]);var C=function(t,a){var c=l.activeIndex,n=e.items[c];t.id===n.id?o&&o(t):(l.slideTo(a),setTimeout(function(){return o(t)},700)),g(a)},w={grabCursor:!1,slidesPerView:"auto",centeredSlides:!0,spaceBetween:50,initialSlide:p,shouldSwiperUpdate:!0};return n.a.createElement(b.a,Object.assign({containerClass:"swiper-container ".concat(S)},w,{getSwiper:m}),E)}p.defaultProps={items:{items:[]}};var g=p,O=function(){var t=Object(c.useState)(!1),e=Object(r.a)(t,2),a=e[0],n=e[1];return{isShowing:a,toggle:function(){n(!a)}}},j=Object(c.lazy)(function(){return a.e(3).then(a.bind(null,84))}),S=Object(c.lazy)(function(){return a.e(4).then(a.bind(null,83))});var v={loadAllComics:s.b,selectComic:s.c},E=Object(u.b)(function(t){return{comics:t.catalog.comics,status:t.catalog.status}},v)(function(t){var e=t.comics,a=t.status,i=Object(u.c)(),o=Object(c.useState)(1),l=Object(r.a)(o,2),m=l[0],d=l[1],b=Object(c.useState)(0),h=Object(r.a)(b,2),p=h[0],v=h[1],E=O(),C=E.isShowing,w=E.toggle,k=0===e.items.length&&a.isLoading,y=function(t){t+2>=e.items.length&&!a.isLoading&&(d(m+1),i(Object(s.b)(m))),v(t)};return n.a.createElement("div",{className:"page ".concat(a.isInDetail?"page__detail":"page__home")},n.a.createElement(f,{className:"Header ".concat(k?"Header--loading":"Header--mini"),showBackButton:a.isInDetail,onClickBack:function(){i(Object(s.c)({}))},onClickSearch:function(){w()}}),n.a.createElement(c.Suspense,{fallback:n.a.createElement(n.a.Fragment,null)},a.isInDetail?n.a.createElement(S,{items:e,onSlideChange:y}):n.a.createElement(g,{initSlide:p,items:e,onClickItemComic:function(t){i(Object(s.c)(t))},onSlideChange:y}),n.a.createElement(j,{onClickItem:function(t){w(),i(Object(s.c)(t))},isShowing:C,hide:w})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(15),w=a(34),k=a(2),y=a(4),I={status:{isLoading:!1,isSearching:!1,isInDetail:!1,isNewSearch:!1},comicDetail:{id:-1,title:"",description:"",thumbnail:"",price:"",dates:{},creators:[]},comics:{hasMore:!0,items:[],original:[],count:12,total:0},comicsFilter:{hasMore:!0,items:[],original:[],count:12,total:0,filter:""}},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y.b.REQUEST:return Object(k.a)({},t,{status:Object(k.a)({},t.status,{isLoading:!0}),comics:Object(k.a)({},t.comics)});case y.b.SUCCESS:return Object(k.a)({},t,{status:Object(k.a)({},t.status,{isLoading:!1}),comics:Object(k.a)({},t.comics,{total:e.total,hasMore:e.hasMore,items:t.comics.items.concat(e.comics),original:t.comics.items})});case y.b.FAILURE:return Object(k.a)({},t,{status:Object(k.a)({},t.status,{isLoading:!1}),comics:Object(k.a)({},t.comics,{items:e.comics})});case y.a.REQUEST:return Object(k.a)({},t,{status:Object(k.a)({},t.status,{isLoading:!1,isSearching:!0,isNewSearch:t.comicsFilter.filter!==e.payload}),comicsFilter:Object(k.a)({},t.comicsFilter,{filter:e.payload})});case y.a.SUCCESS:return Object(k.a)({},t,{status:Object(k.a)({},t.status,{isSearching:!1}),comicsFilter:Object(k.a)({},t.comicsFilter,{total:e.total,items:t.status.isNewSearch?e.comics:t.comicsFilter.items.concat(e.comics),hasMore:e.hasMore,filter:e.payload,original:t.comicsFilter.items})});case y.a.CANCEL:return Object(k.a)({},t,{status:Object(k.a)({},t.status,{isSearching:!1}),comicsFilter:Object(k.a)({},t.comicsFilter,{filter:"",items:t.comicsFilter.original})});case y.c:return Object(k.a)({},t,{comicDetail:e.payload,status:Object(k.a)({},t.status,{isInDetail:e.payload.id})});default:return t}};var L=function(){var t=Object(C.c)({catalog:N});return Object(C.d)(t,Object(C.a)(w.a))}();window.store=L,o.a.render(n.a.createElement(u.a,{store:L},n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.a9c39706.chunk.js.map