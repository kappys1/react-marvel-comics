(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(t,e,a){t.exports=a.p+"static/media/logo.ee0b56fe.png"},37:function(t,e,a){t.exports=a(75)},42:function(t,e,a){},5:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return o}),a.d(e,"c",function(){return r});var c=["REQUEST","SUCCESS","FAILURE","CANCEL","RESET"],n=function(t){var e={};return c.forEach(function(a){e[a]="".concat(t,"_").concat(a)}),e},i=n("LOAD_ALL_COMICS"),o=n("FILTER_COMICS"),r="SELECT_COMIC"},6:function(t,e,a){"use strict";var c=a(2),n=a(12),i=a.n(n),o=a(21),r=a(5),s=a(18),l=a(20),u=a(31),m=a.n(u),d=function(){function t(){Object(s.a)(this,t)}return Object(l.a)(t,null,[{key:"getComics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({page:1,count:10,name:"",titleStartsWith:""},t),a=(new Date).getTime(),c=m.a.MD5(a+"c5ba2dfb45dfc5333a9aea2df50d38c24a6f60a4faf8af7e43d0c4c73a956d278bad1431").toString(),n=e.page-1,i="?apikey=".concat("faf8af7e43d0c4c73a956d278bad1431","&ts=").concat(a,"&hash=").concat(c,"&limit=").concat(e.count,"&offset=").concat(n);e.name&&(i=i.concat("&name=".concat(e.name))),e.titleStartsWith&&(i=i.concat("&titleStartsWith=".concat(e.titleStartsWith))),e.orderBy&&(i=i.concat("&orderBy=".concat(e.orderBy)));var o="".concat("https://gateway.marvel.com:443").concat("/v1/public/comics").concat(i);return fetch(o)}}]),t}(),f=function(){function t(){Object(s.a)(this,t)}return Object(l.a)(t,null,[{key:"comicAdapter",value:function(t){return{id:t.id,title:t.title,description:t.description,pages:t.pageCount,thumbnail:"".concat(t.thumbnail.path.replace("http","https"),"/portrait_uncanny.").concat(t.thumbnail.extension),thumbnail_small:"".concat(t.thumbnail.path.replace("http","https"),"/portrait_medium.").concat(t.thumbnail.extension),price:t.prices.filter(function(t){return"printPrice"===t.type})[0].price||"??",dates:t.dates.filter(function(t){return"onsaleDate"===t.type})[0],creators:t.creators.items.map(function(t){return{name:t.name,role:t.role}})}}}]),t}();a.d(e,"b",function(){return b}),a.d(e,"a",function(){return p}),a.d(e,"c",function(){return h});var b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(o.a)(i.a.mark(function a(c,n){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:g({page:t,orderBy:e},r.b)(c,n).then(function(t){return c(t)});case 1:case"end":return a.stop()}},a)}));return function(t,e){return a.apply(this,arguments)}}()},p=function(t,e){return function(){var a=Object(o.a)(i.a.mark(function a(n,o){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:g({page:t,titleStartsWith:e},r.a)(n,o).then(function(t){n(Object(c.a)({},t,{payload:e}))});case 1:case"end":return a.stop()}},a)}));return function(t,e){return a.apply(this,arguments)}}()},h=function(t){return{type:r.c,payload:t}},g=function(t,e){return function(){var a=Object(o.a)(i.a.mark(function a(c,n){var o,r,s,l,u,m;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:e.REQUEST,payload:t.titleStartsWith}),a.next=3,d.getComics(t).then(function(t){return t.json()}).catch(function(t){c({type:e.FAILURE,message:t.message})});case 3:return o=a.sent,r=o.data,s=r.results,l=r.total,u=r.offset,m=r.count,a.abrupt("return",Promise.resolve({type:e.SUCCESS,comics:s.map(function(t){return f.comicAdapter(t)}),total:l,page:u+1,orderBy:t.orderBy||"",hasMore:Boolean(l>m&&u<l)}));case 6:case"end":return a.stop()}},a)}));return function(t,e){return a.apply(this,arguments)}}()}},67:function(t,e,a){},72:function(t,e,a){},73:function(t,e,a){},75:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),i=a(17),o=a.n(i),r=(a(42),a(10)),s=a(6),l=(a(67),a(8)),u=(a(72),a(33)),m=a.n(u);function d(t){var e=t.className,a=t.iconLeft,c=t.IconRight,i=t.onClickLeftIcon,o=t.onClickRightIcon;return n.a.createElement("div",{className:"Header ".concat(e)},n.a.createElement("div",{className:"col col__left"},n.a.createElement("i",{className:a,onClick:i})),n.a.createElement("div",{className:"col col__center"},n.a.createElement("img",{src:m.a,alt:"Logo"})),n.a.createElement("div",{className:"col col__right"},n.a.createElement("i",{className:c,onClick:o})))}d.defaultProps={className:"",iconLeft:"",IconRight:"",onClickLeftIcon:function(){},onClickRightIcon:function(){}};var f=d;a(73);var b={loadAllComics:s.b},p=Object(l.b)(function(t){return{comics:t.catalog.comics,status:t.catalog.status}},b)(function(t){t.comics;var e=t.status,a=Object(l.c)(),i=Object(c.useState)({name:"",type:""}),o=Object(r.a)(i,2),u=o[0],m=o[1],d=[{name:"Titulo",value:"title"},{name:"Modificacion",value:"modified"},{name:"Numero Issue",value:"issueNumber"},{name:"Fecha de venta",value:"onsaleDate"}].map(function(t,e){var c="";return t.value===u.name&&(c="asc"===u.type?n.a.createElement("i",{className:"icon-cheveron-down"}):n.a.createElement("i",{className:"icon-cheveron-up"})),n.a.createElement("div",{className:"text-body",key:e,onClick:function(){return function(t){var e={};e=u.name!==t?{name:t,type:"asc"}:u.name===t&&"asc"===u.type?{name:t,type:"desc"}:{name:"",type:""},m(e);var c="".concat("desc"===e.type?"-":"").concat(e.name);a(Object(s.b)(1,c))}(t.value)}},t.name,c)});return n.a.createElement("div",{className:"sidebar-content"},n.a.createElement("h2",null,"Order"),d,n.a.createElement("div",{className:"content-loading ".concat(e.isLoading?"show":"")},n.a.createElement("i",{className:"icon-loading"})))}),h=function(){var t=Object(c.useState)(!1),e=Object(r.a)(t,2),a=e[0],n=e[1];return{isShowing:a,toggle:function(){n(!a)}}},g=a(34),v=Object(c.lazy)(function(){return a.e(6).then(a.bind(null,92))}),O=Object(c.lazy)(function(){return a.e(4).then(a.bind(null,90))}),y=Object(c.lazy)(function(){return Promise.all([a.e(5),a.e(3)]).then(a.bind(null,91))});var j={loadAllComics:s.b,selectComic:s.c},E=Object(l.b)(function(t){return{comics:t.catalog.comics,status:t.catalog.status}},j)(function(t){var e=t.comics,a=t.status,i=Object(l.c)(),o=Object(c.useState)(0),u=Object(r.a)(o,2),m=u[0],d=u[1],b=Object(c.useState)(!1),j=Object(r.a)(b,2),E=j[0],S=j[1],C=h(),w=C.isShowing,I=C.toggle,N=0===e.items.length&&a.isLoading,k=function(t){t+4>=e.items.length&&!a.isLoading&&i(Object(s.b)(e.page+1,e.orderBy)),d(t)};return n.a.createElement(g.a,{sidebar:n.a.createElement(p,null),open:E,onSetOpen:S,sidebarClassName:"sidebar",overlayClassName:"overlay",styles:{sidebar:{background:"white"}}},n.a.createElement("div",{className:"page ".concat(a.isInDetail?"page__detail":"page__home")},n.a.createElement(f,{className:"Header ".concat(N?"Header--loading":"Header--mini"),iconLeft:"".concat(a.isInDetail?"icon-back":"icon-menu"),IconRight:"icon-search",onClickLeftIcon:function(){a.isInDetail?i(Object(s.c)({})):S(!0)},onClickRightIcon:function(){I()}}),n.a.createElement(c.Suspense,{fallback:n.a.createElement(n.a.Fragment,null)},a.isInDetail?n.a.createElement(O,{items:e,onSlideChange:k}):n.a.createElement(y,{initSlide:m,items:e,onClickItemComic:function(t){i(Object(s.c)(t))},onSlideChange:k}),n.a.createElement(v,{onClickItem:function(t){I(),i(Object(s.c)(t))},isShowing:w,hide:I})),n.a.createElement("div",{className:"text-body white copyright ".concat(a.isInDetail?"detail":"")},"Data provided by Marvel \xa9 ",(new Date).getFullYear())))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(15),C=a(36),w=a(2),I=a(5),N={status:{isLoading:!1,isSearching:!1,isInDetail:!1,isNewSearch:!1},comicDetail:{id:-1,title:"",description:"",thumbnail:"",price:"",dates:{},creators:[]},comics:{hasMore:!0,page:1,orderBy:"",items:[],original:[],count:12,total:0},comicsFilter:{hasMore:!0,items:[],original:[],count:12,total:0,filter:""}},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I.b.REQUEST:return Object(w.a)({},t,{status:Object(w.a)({},t.status,{isLoading:!0}),comics:Object(w.a)({},t.comics)});case I.b.SUCCESS:return Object(w.a)({},t,{status:Object(w.a)({},t.status,{isLoading:!1}),comics:Object(w.a)({},t.comics,{total:e.total,hasMore:e.hasMore,page:e.page,orderBy:e.orderBy,items:e.orderBy!==t.comics.orderBy?e.comics:t.comics.items.concat(e.comics),original:t.comics.items})});case I.b.FAILURE:return Object(w.a)({},t,{status:Object(w.a)({},t.status,{isLoading:!1}),comics:Object(w.a)({},t.comics,{items:e.comics})});case I.a.REQUEST:return Object(w.a)({},t,{status:Object(w.a)({},t.status,{isLoading:!1,isSearching:!0,isNewSearch:t.comicsFilter.filter!==e.payload}),comicsFilter:Object(w.a)({},t.comicsFilter,{filter:e.payload})});case I.a.SUCCESS:return Object(w.a)({},t,{status:Object(w.a)({},t.status,{isSearching:!1}),comicsFilter:Object(w.a)({},t.comicsFilter,{total:e.total,items:t.status.isNewSearch?e.comics:t.comicsFilter.items.concat(e.comics),hasMore:e.hasMore,filter:e.payload,original:t.comicsFilter.items})});case I.a.CANCEL:return Object(w.a)({},t,{status:Object(w.a)({},t.status,{isSearching:!1}),comicsFilter:Object(w.a)({},t.comicsFilter,{filter:"",items:t.comicsFilter.original})});case I.c:return Object(w.a)({},t,{comicDetail:e.payload,status:Object(w.a)({},t.status,{isInDetail:e.payload.id})});default:return t}};var L=function(){var t=Object(S.c)({catalog:k});return Object(S.d)(t,Object(S.a)(C.a))}();window.store=L,o.a.render(n.a.createElement(l.a,{store:L},n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.40d676af.chunk.js.map